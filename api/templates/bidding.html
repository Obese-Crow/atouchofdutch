<!DOCTYPE html>
<html lang = "en">

	<head>
		<link rel = "stylesheet" type = "text/css" href = "{{url_for('static', filename='bootstrap.css') }}">
		<link rel = "stylesheet" type = "text/css" href = "{{url_for('static', filename='style2.css') }}">
		<meta charset="utf-8">
  		<meta name="viewport" content="width=device-width, initial-scale=1">
	</head>

	<body>
        <div class = "money">
            <h1>Current Dollar Amount(USD):</h1>
            <p>{{name}}</p>
        </div>
        <div class = "time">
            <h1><u>Time</u></h1>
            <p>I am time itself</p>
        </div>
        <div class = "bidding">
            <div class = "container-fluid border border-success minibox rounded-circle">
                <form method = "post">
                    <button type="submit">Bid</button>
                </form> 
    </div>
    </div>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/4.0.1/socket.io.js"></script>
        <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js" type="text/javascript"></script>
        <script type="text/javascript">
            $(document).ready(function() {
                var socket = io.connect("http://127.0.0.1");

                socket.on("connect", function() {
                    console.log("Connected to the socket!");
                });

                socket.on("winner", function(data) {
                    alert(data.name + " has won!"); // Display winner
                    $(".money p").text(data.name); // Update UI with winner's name
                    window.location.href = "/winner/" + data.name; // Navigate to winner page
                });
            });
        </script>
        </body>
</html>
